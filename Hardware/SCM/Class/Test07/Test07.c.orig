/*********************************************************************************
* ??????: 2014?3?5?
* ??    ??: ????:03
* ??    ??: 1.0
* ??    ??: http://www.qxmcu.com/
* ??????: http://qxmcu.taobao.com/
* ??????: QX-MCS51 ??????
* ??????: 11.0592mhz
* ??????: STC89C52
* ??????: Keil µVisio3
* ??????: ??????????????,????????1?
			?????,????,???????????
* ??????:
*  ??:????,????????.
**********************************************************************************/

#include<reg52.h>

#define uint unsigned int
uint pp;


void delay(uint z)
{
    uint x,y;
    for(x = z; x > 0; x--)
        for(y = 114; y > 0 ; y--);
}

void main()
{
//    while(1)
//    {
        pp = 0;
        TMOD=0x01;		 //????,00000001,?????????0,?????1(M1=0,M0=1)?
        TR0=1;			 //?????
        TH0=0Xff;		 //?????,??100?????????
        TL0=0Xa4;
        ET0=1;			 //????0??
        EA=1;			 //????
        while(1)
        {
            if(pp==30000)	//??3s?,led????
            {
							P1 = 0x00;
							pp = 0;
							while(1)
							{
								if(pp==30000)	//??3s?,led????
            {
							P1 = 0xff;
							pp = 0;
							}
						}
					}
						
        }
//    }
}

void time0() interrupt 1
{   TH0=0Xff;
    TL0=0Xa4;
    pp++;
}
